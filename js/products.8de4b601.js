"use strict";(self["webpackChunkshoppingapp"]=self["webpackChunkshoppingapp"]||[]).push([[893],{2211:function(t,a,e){e.d(a,{t:function(){return i}});var n=e(3699),l=e(6035);const r=(0,l.hJ)(n.Fs,"cart");async function s(t,a){console.log(n.l2),(0,l.ET)(r,{userId:t,cartArrays:a})}async function o(t){console.log(t);const a=(0,l.JU)(n.Fs,"cart",t);(0,l.oe)(a)}async function c(t,a,e){const r=(0,l.JU)(n.Fs,"cart",t);c(r,{cartArrays:{quantity:a,soluongmua:e}})}function i(){return{addToCart:s,deleteCart:o,updateCart:c}}},8403:function(t,a,e){e.r(a),e.d(a,{default:function(){return x}});var n=e(3396),l=e(7139),r=e(9242);const s={class:"container"},o={class:"table table-striped"},c=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Tên sản phẩm"),(0,n._)("th",null,"Hình ảnh"),(0,n._)("th",null,"Giá tiền"),(0,n._)("th",null,"Số lượng"),(0,n._)("th",null,"Số Tiền"),(0,n._)("th",null,"Thao tác")])],-1),i=["src"],u=(0,n.Uk)("  "),d=(0,n.Uk)("  "),p=(0,n._)("td",null,[(0,n._)("p")],-1),h=["onClick"],m=["onClick"],g=(0,n._)("td",null,null,-1);function y(t,a,e,y,v,f){return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("table",o,[c,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(y.carts,((e,s)=>((0,n.wg)(),(0,n.iD)("tr",{key:e},[(0,n._)("td",null,(0,l.zw)(s+1)+"."+(0,l.zw)(e.cartArrays.name),1),(0,n._)("td",null,[(0,n._)("img",{src:e.cartArrays.image,alt:"",style:{width:"75px"}},null,8,i)]),(0,n._)("td",null,(0,l.zw)(e.cartArrays.price),1),(0,n._)("td",null,[(0,n._)("button",{type:"button",class:"btn btn-primary",onClick:a[0]||(a[0]=(...a)=>t.tang&&t.tang(...a))}," +"),u,(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a[1]||(a[1]=t=>y.quantity=t),style:{width:"75px"}},null,512),[[r.nr,y.quantity]]),d,(0,n._)("button",{type:"button",class:"btn btn-primary",onClick:a[2]||(a[2]=(...a)=>t.giam&&t.giam(...a))}," - "),(0,n.Uk)(" Còn "+(0,l.zw)(e.cartArrays.quality)+" sản phẩm trong kho ",1)]),p,(0,n._)("td",null,[(0,n._)("button",{onClick:t=>y.deleteItem(e.id,s)},"Delete",8,h),(0,n._)("button",{onClick:t=>y.updateItem(e.cartArrays.id,e.cartArrays.quantity,e.cartArrays.soluongmua)}," Update ",8,m)]),g])))),128))])]),(0,n._)("h3",null,"Tổng tiền thanh toán: "+(0,l.zw)(y.total),1),(0,n._)("button",{onClick:a[3]||(a[3]=(...t)=>y.thanhtoan&&y.thanhtoan(...t))},"Thanh toán")])}var v=e(65),f=e(4870),_=e(9784),b=e(2211),w=e(3699),k=e(6035);const C=(0,k.hJ)(w.Fs,"order");async function U(t,a){console.log(w.l2),(0,k.ET)(C,{userId:t,orderArrays:a})}async function D(t){console.log(t);const a=(0,k.JU)(w.Fs,"order",t);(0,k.oe)(a)}function T(){return{addToOrder:U,deleteOrder:D}}var A={setup(){const t=(0,v.oR)(),{data:a}=(0,_.D)(),{deleteCart:e,updateCart:l}=(0,b.t)(),{addToOrder:r}=T(),s=(0,f.iH)(1);t.dispatch("setCart",{data:a});const o=t.state.carts;async function c(){console.log(t.state.cartOfUser,t.state.displayname),await r(t.state.displayname,t.state.cartOfUser).then((()=>{alert("Thanh toán thành công")})).catch((t=>{alert("Thanh toán thất bại",t)})),t.state.cartOfUser.forEach((a=>{console.log(a.id),e(a.id),t.commit("deleteAll")}))}async function i(a,n){t.commit("deleteItemCartUser",n),await e(a).then((()=>{alert("Cart deleted")})).catch((()=>alert("Cart not deleted")))}async function u(t,a,e){await l(t,a,e).then((()=>alert("Cart updated"))).catch((()=>alert("Cart not updated")))}return console.log(o),{quantity:s,cart:o,carts:(0,n.Fl)((()=>t.state.cartOfUser)),deleteItem:i,updateItem:u,thanhtoan:c,total:(0,n.Fl)((()=>t.state.cartOfUser.reduce(((t,a)=>(t+=Number(a.cartArrays.price*s.value),t)),0)))}}},z=e(89);const S=(0,z.Z)(A,[["render",y]]);var x=S},9004:function(t,a,e){e.r(a),e.d(a,{default:function(){return P}});var n=e(3396),l=e(7139),r=e(9242);const s=t=>((0,n.dD)("data-v-6749b526"),t=t(),(0,n.Cn)(),t),o={class:"container d-flex justify-content-center mt-5"},c={key:0},i={class:"row"},u={class:"col-lg-4"},d=["src"],p={class:"col-lg-8"},h={class:"d-flex justify-content-between"},m=(0,n.Uk)(" Nhà cung cấp: "),g={style:{color:"blue"}},y=s((()=>(0,n._)("br",null,null,-1))),v=(0,n.Uk)(" Hình thức: "),f=(0,n.Uk)(" Tác giả: "),_={style:{"font-weight":"bold"}},b=s((()=>(0,n._)("label",{for:""},"Nhập số lượng: ",-1))),w=s((()=>(0,n._)("input",{type:"number",value:"1"},null,-1))),k={class:"price"},C={class:"mt-5"},U=s((()=>(0,n._)("h3",null,"Bình luận",-1))),D=s((()=>(0,n._)("label",{for:"nhapcomment"},"Đăng bình luận: ",-1))),T=s((()=>(0,n._)("br",null,null,-1))),A=s((()=>(0,n._)("button",{type:"submit"},"Đăng",-1)));function z(t,a,e,s,z,S){return(0,n.wg)(),(0,n.iD)("div",o,[s.details?((0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",i,[(0,n._)("div",u,[(0,n._)("img",{src:s.details.image,alt:"",class:"image-thumb"},null,8,d)]),(0,n._)("div",p,[(0,n._)("h3",null,(0,l.zw)(s.details.name),1),(0,n._)("div",h,[(0,n._)("p",null,[m,(0,n._)("span",g,(0,l.zw)(s.details.nhaxuatban),1),y,v,(0,n._)("span",null,(0,l.zw)(s.details.hinhthuc),1)]),(0,n._)("p",null,[f,(0,n._)("span",_,(0,l.zw)(s.details.tacgia),1)])]),b,w,(0,n._)("h3",k,(0,l.zw)(s.details.price)+" đ",1),(0,n._)("button",{class:"btn btn-primary addtocart",onClick:a[0]||(a[0]=t=>s.addCart(s.details))}," Thêm vào giỏ hàng "),(0,n._)("div",C,[U,(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.details.comments,(t=>((0,n.wg)(),(0,n.iD)("li",{key:t},(0,l.zw)(t),1)))),128))]),(0,n._)("form",{onSubmit:a[2]||(a[2]=(...t)=>s.postComment&&s.postComment(...t))},[D,T,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=t=>s.comment=t)},null,512),[[r.nr,s.comment]]),A],32)])])])])):(0,n.kq)("",!0)])}var S=e(65),x=e(678),F=e(4870),H=e(6166),V=e(2211);const{getUser:q}=(0,H.a)(),{user:G}=q();var I={setup(){const t=(0,x.yj)(),a=(0,S.oR)(),e=(0,F.iH)("");a.dispatch("getDetail",{id:t.params.id});const{addToCart:l}=(0,V.t)();async function r(t){await l(G.value.uid,t).then((()=>{alert("Add to cart");let e={};e=t;let n=G.value.uid;a.state.cartOfUser.push({cartArrays:e,userId:n})})).catch((t=>{console.log(t)}))}function s(t){t.preventDefault(),console.log(e.value),a.state.details.comments.push(e.value),e.value=""}return{comment:e,addCart:r,postComment:s,details:(0,n.Fl)((()=>a.state.details))}}},O=e(89);const L=(0,O.Z)(I,[["render",z],["__scopeId","data-v-6749b526"]]);var P=L},2544:function(t,a,e){e.r(a),e.d(a,{default:function(){return T}});var n=e(3396),l=e(9242),r=e(7139);const s={class:"container my-5 register"},o={class:"mb-3"},c=(0,n._)("label",{for:"email",class:"form-label"},"Email Address",-1),i={class:"mb-3"},u=(0,n._)("label",{for:"password",class:"form-label"},"Password",-1),d={key:0,type:"submit",class:"btn btn-primary px-5 py-1"},p={key:1,type:"button",class:"btn btn-secondary px-5 py-1",disabled:""},h={key:0,class:"text-danger"};function m(t,a,e,m,g,y){return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("form",{class:"form",onSubmit:a[2]||(a[2]=(...t)=>m.onSubmit&&m.onSubmit(...t))},[(0,n._)("div",o,[c,(0,n.wy)((0,n._)("input",{type:"email",class:"form-control",id:"email",placeholder:"nguyenvana@gmail.com","onUpdate:modelValue":a[0]||(a[0]=t=>m.email=t),required:""},null,512),[[l.nr,m.email]])]),(0,n._)("div",i,[u,(0,n.wy)((0,n._)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":a[1]||(a[1]=t=>m.password=t),required:""},null,512),[[l.nr,m.password]])]),m.isPending?((0,n.wg)(),(0,n.iD)("button",p," Loading... ")):((0,n.wg)(),(0,n.iD)("button",d," Sign In "))],32),m.error?((0,n.wg)(),(0,n.iD)("div",h,[(0,n._)("span",null,(0,r.zw)(m.error),1)])):(0,n.kq)("",!0)])}var g=e(4870),y=e(678),v=e(3699),f=e(7613);const _=(0,g.iH)(null),b=(0,g.iH)(!1);async function w(t,a){_.value=null;try{b.value=!0,console.log("app",v.l2);const e=(0,f.v0)();console.log("auth",e);const n=await(0,f.e5)(e,t,a);return console.log(n.user.uid),n}catch(e){console.log(e),_.value=e.message}finally{b.value=!1}}function k(){return{error:_,isPending:b,signin:w}}var C={setup(){const t=(0,y.tv)(),{error:a,isPending:e,signin:n}=k(),l=(0,g.iH)(""),r=(0,g.iH)("");async function s(e){e.preventDefault(),await n(l.value,r.value),a.value||t.push({name:"profile",params:{}})}return{email:l,password:r,error:a,isPending:e,onSubmit:s}}},U=e(89);const D=(0,U.Z)(C,[["render",m]]);var T=D},1684:function(t,a,e){e.r(a),e.d(a,{default:function(){return g}});var n=e(3396);function l(t,a,e,l,r,s){return(0,n.wg)(),(0,n.iD)("h1",null,"Log out")}var r=e(678),s=e(4870),o=e(3699),c=e(7613);const i=(0,s.iH)(null);async function u(){i.value=null;try{const t=(0,c.v0)();console.log("app",o.l2),await(0,c.w7)(t)}catch(t){console.log(t),i.value=t.message}}function d(){return{error:i,signout:u}}var p={setup(){const t=(0,r.tv)(),{error:a,signout:e}=d();async function n(){await e(),a.value||t.push({name:"login",params:{}})}return n(),{}}},h=e(89);const m=(0,h.Z)(p,[["render",l]]);var g=m},6407:function(t,a,e){e.r(a),e.d(a,{default:function(){return $}});var n=e(3396),l=e(9242),r=e(7139);const s={class:"container"},o=(0,n._)("h1",null,"Products",-1),c={key:0,class:"row"},i={class:"col-lg-3"},u={class:"input-group mb-3"},d=(0,n._)("span",{class:"input-group-text"},"@",-1),p=(0,n._)("h1",null,"Nhóm sản phẩm",-1),h={class:"list-group"},m={class:"form-check"},g=(0,n._)("label",{class:"form-check-label",for:"sachkynang"}," Sách Kỹ năng sống ",-1),y={class:"form-check"},v=(0,n._)("label",{class:"form-check-label",for:"sachtamly"}," Sách Tâm Lý ",-1),f={class:"form-check"},_=(0,n._)("label",{class:"form-check-label",for:"sachgiaokhoa"}," Sách Giáo Khoa ",-1),b={class:"form-check"},w=(0,n._)("label",{class:"form-check-label",for:"truyentranh"}," Truyện Tranh ",-1),k={class:"form-check"},C=(0,n._)("label",{class:"form-check-label",for:"sachtienganh"}," Sách Tiếng Anh ",-1),U={class:"form-check"},D=(0,n._)("label",{class:"form-check-label",for:"tatca"}," Tất cả ",-1),T={class:"col-lg-9 border"},A={style:{width:"200px"}},z=(0,n.Uk)(" Sắp xếp theo: "),S=(0,n._)("option",{value:""},"Hãy chọn giá",-1),x=(0,n._)("option",{value:"thap"},"Giá từ cao đến thấp",-1),F=(0,n._)("option",{value:"cao"},"Giá từ thấp đến cao",-1),H=[S,x,F],V={class:"row"},q={class:"card border-0"},G={class:"card-body"},I=["src"],O={class:"title"},L={class:"card-text"},P=(0,n.Uk)(" Giá: "),K={style:{color:"red, font-weight: bold"}},N=["onClick"],Z=(0,n._)("button",{class:"btn btn-info"},"Add to Wishlist",-1),E={key:1};function J(t,a,e,S,x,F){const J=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",s,[o,S.products.length>0?((0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",i,[(0,n._)("div",u,[d,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",placeholder:"Tìm kiếm","onUpdate:modelValue":a[0]||(a[0]=t=>S.searchString=t)},null,512),[[l.nr,S.searchString]])]),p,(0,n._)("div",h,[(0,n._)("div",m,[(0,n.wy)((0,n._)("input",{class:"form-check-input",type:"radio",value:"sachkynang",id:"sachkynang","onUpdate:modelValue":a[1]||(a[1]=t=>S.searchCategory=t)},null,512),[[l.G2,S.searchCategory]]),g]),(0,n._)("div",y,[(0,n.wy)((0,n._)("input",{class:"form-check-input",type:"radio",value:"sachtamly",id:"sachtamly","onUpdate:modelValue":a[2]||(a[2]=t=>S.searchCategory=t)},null,512),[[l.G2,S.searchCategory]]),v]),(0,n._)("div",f,[(0,n.wy)((0,n._)("input",{class:"form-check-input",type:"radio",value:"sachgiaokhoa",id:"sachgiaokhoa","onUpdate:modelValue":a[3]||(a[3]=t=>S.searchCategory=t)},null,512),[[l.G2,S.searchCategory]]),_]),(0,n._)("div",b,[(0,n.wy)((0,n._)("input",{class:"form-check-input",type:"radio",value:"truyentranh",id:"truyentranh","onUpdate:modelValue":a[4]||(a[4]=t=>S.searchCategory=t)},null,512),[[l.G2,S.searchCategory]]),w]),(0,n._)("div",k,[(0,n.wy)((0,n._)("input",{class:"form-check-input",type:"radio",value:"sachtienganh",id:"sachtienganh","onUpdate:modelValue":a[5]||(a[5]=t=>S.searchCategory=t)},null,512),[[l.G2,S.searchCategory]]),C]),(0,n._)("div",U,[(0,n.wy)((0,n._)("input",{class:"form-check-input",type:"radio",value:"",id:"tatca","onUpdate:modelValue":a[6]||(a[6]=t=>S.searchCategory=t)},null,512),[[l.G2,S.searchCategory]]),D])])]),(0,n._)("div",T,[(0,n._)("div",A,[z,(0,n.wy)((0,n._)("select",{class:"form-select","onUpdate:modelValue":a[7]||(a[7]=t=>S.sapxepgia=t)},H,512),[[l.bM,S.sapxepgia]])]),(0,n._)("div",V,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(S.productFileter,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.name,class:"col-sm-3"},[(0,n._)("div",q,[(0,n._)("div",G,[(0,n.Wm)(J,{to:{name:"detail",params:{id:e.id}}},{default:(0,n.w5)((()=>[(0,n._)("img",{src:e.image,alt:"",class:"img-thum"},null,8,I),(0,n._)("h3",O,(0,r.zw)(e.name),1)])),_:2},1032,["to"]),(0,n._)("p",L,[P,(0,n._)("span",K,(0,r.zw)(e.price)+" đ",1)]),(0,n._)("button",{class:"",onClick:a[8]||(a[8]=(...a)=>t.increaseLike&&t.increaseLike(...a))}," Số lượt thích "+(0,r.zw)(e.likeCount),1),(0,n._)("a",{href:"#",class:"btn btn-primary",onClick:t=>S.addCart(e)},"Add to Cart",8,N),Z])])])))),128))])])])):((0,n.wg)(),(0,n.iD)("div",E,"Loading..."))])}e(6699);var R=e(65),Y=e(6166),j=e(1902),W=e(2211),B=e(4870),M={setup(){const t=(0,R.oR)(),{data:a}=(0,j.K)(),{addToCart:e}=(0,W.t)(),{getUser:l}=(0,Y.a)(),{user:r}=l();var s=(0,B.iH)(""),o=(0,B.iH)(""),c=(0,B.iH)("");async function i(a){await e(r.value.uid,a).then((()=>{alert("Add to cart");let e={};e=a;let n=r.value.uid;t.state.cartOfUser.push({cartArrays:e,userId:n})})).catch((t=>{console.log(t)}))}t.dispatch("setProducts",{data:a});const u=(0,n.Fl)((()=>t.state.products)),d=(0,n.Fl)((()=>u.value.filter((t=>{if(o.value.length>0)return console.log("searchCategory"),t.category===o.value;if(s.value.length>=0){console.log("search string");const a=s.value.toLowerCase();return t.name.toLowerCase().includes(a)}return u.value})))),p=(0,n.YP)((()=>"cao"==c.value?u.value.sort(((t,a)=>parseFloat(t.price)-parseFloat(a.price))):"thap"==c.value?u.value.sort(((t,a)=>parseFloat(a.price)-parseFloat(t.price))):u.value)),h=(0,n.Fl)((()=>u.value.filter((t=>o.value.length>0?t.category===o.value:u.value))));return{sortCategory:h,sortPrice:p,sapxepgia:c,searchString:s,searchCategory:o,data:a,addCart:i,products:u,productFileter:d}}},Q=e(89);const X=(0,Q.Z)(M,[["render",J]]);var $=X},5291:function(t,a,e){e.r(a),e.d(a,{default:function(){return b}});var n=e(3396),l=e(7139);const r={class:"container profile"},s={key:0},o={class:"card",style:{width:"18rem"}},c=["src"],i={class:"card-body"},u={class:"card-title"},d={class:"list-group list-group-flush"},p={class:"list-group-item"},h={class:"list-group-item"};function m(t,a,e,m,g,y){return(0,n.wg)(),(0,n.iD)("div",r,[m.user?((0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",o,[(0,n._)("img",{class:"card-img-top",src:m.user.photoURL,alt:"Card image cap"},null,8,c),(0,n._)("div",i,[(0,n._)("h5",u,"Họ tên: "+(0,l.zw)(m.user.displayName),1)]),(0,n._)("ul",d,[(0,n._)("li",p,"Số điện thoại: "+(0,l.zw)(m.user.phoneNumber),1),(0,n._)("li",h,"Email: "+(0,l.zw)(m.user.email),1)])])])):(0,n.kq)("",!0)])}var g=e(65),y=e(6166),v={setup(){const t=(0,g.oR)(),{getUser:a}=(0,y.a)(),{user:e}=a();return t.commit("setDisplayname",e.value.uid),t.commit("setCartforUser",e.value.uid),{user:e}}},f=e(89);const _=(0,f.Z)(v,[["render",m]]);var b=_}}]);
//# sourceMappingURL=products.8de4b601.js.map